# Multi-Idioma v1 (InternacionalizaÃ§Ã£o)

**VersÃ£o**: 1.0
**Data**: 2025-12-26
**Status**: OBRIGATÃ“RIO V1
**Cliente disse**: "sim jÃ¡ no inÃ­cio deve ser possÃ­vel mudar o idioma"

---

## 1. VISÃƒO GERAL

**MudanÃ§a crÃ­tica**: Multi-idioma NÃƒO Ã© v1.1 (futuro), Ã© **v1 obrigatÃ³rio**.

### 1.1. Escopo v1

O produto terÃ¡ suporte multi-idioma desde o primeiro lanÃ§amento em **dois nÃ­veis**:

1. **Interface (UI)**: Todos os textos da interface (botÃµes, labels, mensagens)
2. **ConteÃºdo (Lessons/Beats)**: Ãudio TTS gerado no idioma escolhido pelo criador

### 1.2. Idiomas Suportados v1

| Idioma | CÃ³digo | Prioridade | ObservaÃ§Ãµes |
|--------|--------|------------|-------------|
| PortuguÃªs (Brasil) | pt-BR | ğŸ”´ Principal | Idioma padrÃ£o da plataforma |
| InglÃªs (EUA) | en-US | ğŸŸ¡ SecundÃ¡rio | Mercado global |
| Espanhol (Espanha) | es-ES | ğŸŸ¡ SecundÃ¡rio | Mercado LATAM |

**v1.1 (futuro)**: Adicionar FR, DE, IT, JA, ZH

---

## 2. INTERFACE (UI) MULTI-IDIOMA

### 2.1. ImplementaÃ§Ã£o TÃ©cnica

**Framework**: `react-i18next` (React) ou `vue-i18n` (Vue)

**Estrutura de arquivos**:
```
/locales
  /pt-BR
    common.json
    learner.json
    studio.json
    admin.json
  /en-US
    common.json
    learner.json
    studio.json
    admin.json
  /es-ES
    common.json
    learner.json
    studio.json
    admin.json
```

**Exemplo**: `/locales/pt-BR/learner.json`
```json
{
  "home": {
    "title": "MissÃ£o do Dia",
    "cta": "ComeÃ§ar LiÃ§Ã£o",
    "streak": "ğŸ”¥ {{days}} dias de sequÃªncia",
    "daily_goal": "Meta DiÃ¡ria: {{current}}/{{target}} XP"
  },
  "player": {
    "next_beat": "PrÃ³ximo",
    "skip": "Pular",
    "checkpoint_correct": "Correto! +{{xp}} XP",
    "checkpoint_wrong": "Ops! Tente novamente."
  },
  "store": {
    "title": "Loja de Recompensas",
    "balance": "Seus Coins: {{coins}}",
    "buy": "Comprar",
    "insufficient_coins": "Coins insuficientes. VocÃª precisa de mais {{needed}}."
  }
}
```

**Exemplo de uso no cÃ³digo**:
```jsx
// React + react-i18next
import { useTranslation } from 'react-i18next';

function HomePage() {
  const { t } = useTranslation('learner');

  return (
    <div>
      <h1>{t('home.title')}</h1>
      <p>{t('home.streak', { days: 7 })}</p>
      <button>{t('home.cta')}</button>
    </div>
  );
}
```

### 2.2. Seletor de Idioma

**LocalizaÃ§Ã£o**: ConfiguraÃ§Ãµes (Learner App, Modo Studio, InfoApp Admin)

**UX**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ConfiguraÃ§Ãµes                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Idioma da Interface                        â”‚
â”‚  [Dropdown]                                 â”‚
â”‚    ğŸ‡§ğŸ‡· PortuguÃªs (Brasil)                    â”‚
â”‚    ğŸ‡ºğŸ‡¸ English (United States)              â”‚
â”‚    ğŸ‡ªğŸ‡¸ EspaÃ±ol (EspaÃ±a)                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  [Salvar]                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**PersistÃªncia**: PreferÃªncia de idioma salva em:
- LocalStorage (frontend)
- DB (user preferences) para sincronizar entre dispositivos

**DetecÃ§Ã£o automÃ¡tica**: No primeiro acesso, detectar idioma do browser (`navigator.language`)

### 2.3. Cobertura de TraduÃ§Ã£o v1

**ObrigatÃ³rio v1** (100% traduzido):
- âœ… Learner App (todas as telas)
- âœ… Modo Studio (todas as telas)
- âœ… InfoApp Admin Panel (todas as telas)
- âœ… Emails transacionais (welcome, reset password)
- âœ… NotificaÃ§Ãµes push
- âœ… Mensagens de erro

**Opcional v1** (pode ficar em inglÃªs):
- DocumentaÃ§Ã£o tÃ©cnica (docs.plataforma.com)
- Blog/Marketing site

### 2.4. FormataÃ§Ã£o Regional

**NÃºmeros**:
- PT-BR: `1.234,56`
- EN-US: `1,234.56`
- ES-ES: `1.234,56`

**Datas**:
- PT-BR: `26/12/2025`
- EN-US: `12/26/2025`
- ES-ES: `26/12/2025`

**Moeda** (se houver billing):
- PT-BR: `R$ 49,90`
- EN-US: `$49.90`
- ES-ES: `â‚¬49,90`

**ImplementaÃ§Ã£o**: `Intl.NumberFormat`, `Intl.DateTimeFormat`

```javascript
// Exemplo
const price = 49.90;
const formatter = new Intl.NumberFormat(locale, {
  style: 'currency',
  currency: locale === 'pt-BR' ? 'BRL' : 'USD'
});
formatter.format(price); // PT-BR: "R$ 49,90", EN-US: "$49.90"
```

---

## 3. CONTEÃšDO (LESSONS/BEATS) MULTI-IDIOMA

### 3.1. Idioma do InfoApp

**DecisÃ£o**: Criador escolhe **idioma principal** do InfoApp ao criÃ¡-lo no Modo Studio

**Wizard de criaÃ§Ã£o**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Criar InfoApp - Passo 2                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Idioma Principal do ConteÃºdo               â”‚
â”‚  [Dropdown]                                 â”‚
â”‚    ğŸ‡§ğŸ‡· PortuguÃªs (Brasil)                    â”‚
â”‚    ğŸ‡ºğŸ‡¸ English (United States)              â”‚
â”‚    ğŸ‡ªğŸ‡¸ EspaÃ±ol (EspaÃ±a)                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â„¹ï¸  Ãudios TTS serÃ£o gerados neste idioma. â”‚
â”‚  [Anterior]  [PrÃ³ximo]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ImplicaÃ§Ã£o**:
- Todos os beats terÃ£o Ã¡udio gerado no idioma escolhido
- Criador pode criar lessons em qualquer idioma, mas TTS usa o idioma principal

**v1.1 (futuro)**: Criador pode criar mesmo conteÃºdo em mÃºltiplos idiomas (PT-BR, EN, ES) e aluno escolhe qual quer aprender

### 3.2. GeraÃ§Ã£o de Ãudio TTS Multi-Idioma

**API**: ElevenLabs (ou alternativas: Google Cloud TTS, Amazon Polly)

**ElevenLabs Multilingual**:
- Suporta 29 idiomas (incluindo PT-BR, EN-US, ES-ES)
- Vozes naturais por idioma
- API: `POST /v1/text-to-speech/{voice_id}`

**ImplementaÃ§Ã£o**:
```python
# PseudocÃ³digo
def generate_audio_for_beat(beat_id, text, language):
    # Seleciona voz apropriada para o idioma
    voice_id = get_voice_for_language(language)  # PT-BR: "21m00Tcm4TlvDq8ikWAM"

    # Chama API ElevenLabs
    response = elevenlabs_client.text_to_speech(
        voice_id=voice_id,
        text=text,
        model_id="eleven_multilingual_v2",
        voice_settings={
            "stability": 0.5,
            "similarity_boost": 0.75
        }
    )

    # Salva Ã¡udio no CDN
    audio_url = upload_to_cdn(response.audio, f"beat_{beat_id}.mp3")

    # Atualiza beat com URL do Ã¡udio
    Beat.update(beat_id, audio_url=audio_url)

    return audio_url
```

**Vozes recomendadas por idioma**:
| Idioma | Voz ElevenLabs | ID | CaracterÃ­sticas |
|--------|----------------|----|--------------  |
| PT-BR | "Rachel" (adaptada) | `21m00Tcm4TlvDq8ikWAM` | Feminina, clara, educativa |
| EN-US | "Josh" | `TxGEqnHWrfWFTfGW9XjX` | Masculina, friendly, versÃ¡til |
| ES-ES | "Bella" | `EXAVITQu4vr4xnSDxMaL` | Feminina, calorosa, expressiva |

**Cliente pode customizar**: No InfoApp Admin, criador pode escolher voz diferente da biblioteca ElevenLabs

### 3.3. Texto dos Beats

**Quem cria o texto**: Criador (no InfoApp Admin Panel)

**Idioma do texto**: Qualquer idioma que criador escrever (mas TTS usa idioma principal do InfoApp)

**Exemplo**:
- InfoApp idioma: PT-BR
- Criador cria beat com texto: "A funÃ§Ã£o print() exibe texto na tela"
- TTS gera Ã¡udio em PT-BR com voz Rachel

**TraduÃ§Ã£o automÃ¡tica (v1.1)**: Se criador escrever em EN e InfoApp for PT-BR, sistema pode oferecer traduÃ§Ã£o automÃ¡tica via Google Translate API

### 3.4. Checkpoints Multi-Idioma

**Texto das perguntas e opÃ§Ãµes**: Criador escreve no idioma principal do InfoApp

**Exemplo (InfoApp em PT-BR)**:
```json
{
  "checkpoint_id": "ckpt_001",
  "question": "Qual funÃ§Ã£o exibe texto no Python?",
  "options": [
    {"id": "a", "text": "print()"},
    {"id": "b", "text": "console.log()"},
    {"id": "c", "text": "echo()"}
  ],
  "correct": "a"
}
```

**v1.1**: Criador pode criar mesma checkpoint em mÃºltiplos idiomas

---

## 4. EMAILS E NOTIFICAÃ‡Ã•ES MULTI-IDIOMA

### 4.1. Emails Transacionais

**Idioma**: Baseado na preferÃªncia de idioma do usuÃ¡rio

**Templates**:
- Welcome email (PT-BR, EN-US, ES-ES)
- Reset password (PT-BR, EN-US, ES-ES)
- Streak reminder (PT-BR, EN-US, ES-ES)
- Weekly report (PT-BR, EN-US, ES-ES)

**Ferramenta**: SendGrid com templates multi-idioma

**Exemplo**: `templates/pt-BR/welcome.html`
```html
<h1>Bem-vindo ao {{infoapp_name}}!</h1>
<p>OlÃ¡ {{user_name}},</p>
<p>Estamos felizes em ter vocÃª aqui. Sua primeira missÃ£o te espera!</p>
<a href="{{infoapp_url}}">ComeÃ§ar Agora</a>
```

### 4.2. NotificaÃ§Ãµes Push

**Idioma**: Baseado na preferÃªncia de idioma do usuÃ¡rio

**Exemplo (PT-BR)**:
- "ğŸ”¥ Seu streak de 7 dias vai expirar em 2h!"
- "ğŸ¯ VocÃª completou sua meta diÃ¡ria! +10 coins"
- "â­ Novo badge desbloqueado: Dedicado"

**Exemplo (EN-US)**:
- "ğŸ”¥ Your 7-day streak will expire in 2h!"
- "ğŸ¯ You completed your daily goal! +10 coins"
- "â­ New badge unlocked: Dedicated"

**ImplementaÃ§Ã£o**: Firebase Cloud Messaging com localizaÃ§Ã£o

---

## 5. SEO E URLs MULTI-IDIOMA

### 5.1. URLs Localizados (Opcional v1)

**OpÃ§Ã£o A**: SubdomÃ­nio por idioma
- `pt.plataforma.com/studio`
- `en.plataforma.com/studio`
- `es.plataforma.com/studio`

**OpÃ§Ã£o B**: Path por idioma
- `plataforma.com/pt/studio`
- `plataforma.com/en/studio`
- `plataforma.com/es/studio`

**OpÃ§Ã£o C** (RECOMENDADO v1): URL Ãºnico com query param
- `plataforma.com/studio?lang=pt-BR`
- `plataforma.com/studio?lang=en-US`
- `plataforma.com/studio?lang=es-ES`

**RazÃ£o**: OpÃ§Ã£o C Ã© mais simples para v1, OpÃ§Ã£o A/B para v1.1 (melhor SEO)

### 5.2. Meta Tags SEO

```html
<!-- PT-BR -->
<html lang="pt-BR">
<meta name="description" content="Crie seu SaaS de educaÃ§Ã£o em minutos">

<!-- EN-US -->
<html lang="en-US">
<meta name="description" content="Create your EdTech SaaS in minutes">

<!-- ES-ES -->
<html lang="es-ES">
<meta name="description" content="Crea tu SaaS educativo en minutos">
```

---

## 6. QUALIDADE DE TRADUÃ‡ÃƒO

### 6.1. Processo de TraduÃ§Ã£o

**v1** (MVP):
1. Desenvolvedor escreve em PT-BR (idioma principal)
2. Traduz para EN-US e ES-ES usando:
   - Google Translate (draft)
   - RevisÃ£o manual por nativo (QA)

**v1.1** (Profissional):
- Contratar tradutores profissionais
- Usar plataforma de traduÃ§Ã£o (Lokalise, Crowdin)
- Testes de QA linguÃ­stico

### 6.2. GlossÃ¡rio de Termos

**Termos que NÃƒO sÃ£o traduzidos** (mantÃ©m-se em inglÃªs):
- Beat (conceito do produto)
- Checkpoint (conceito do produto)
- InfoApp (nome do produto gerado)

**Termos traduzidos**:
| PT-BR | EN-US | ES-ES |
|-------|-------|-------|
| MissÃ£o do Dia | Daily Mission | MisiÃ³n del DÃ­a |
| Aula Interativa | Interactive Lesson | LecciÃ³n Interactiva |
| Atividade | Activity | Actividad |
| Loja de Recompensas | Rewards Store | Tienda de Recompensas |
| SequÃªncia (Streak) | Streak | Racha |
| Coins | Coins | Coins |
| XP | XP | XP |

### 6.3. Contexto nas TraduÃ§Ãµes

**Problema**: Palavra pode ter mÃºltiplas traduÃ§Ãµes dependendo do contexto

**SoluÃ§Ã£o**: Namespacing claro nos arquivos de traduÃ§Ã£o

**Exemplo**:
```json
{
  "button": {
    "save": "Salvar",  // BotÃ£o de salvar
    "save_draft": "Salvar Rascunho"  // Mais especÃ­fico
  },
  "label": {
    "save": "Salvo em {{time}}"  // Label de status (particÃ­pio passado)
  }
}
```

---

## 7. TESTES DE QA MULTI-IDIOMA

### 7.1. Checklist de QA

**Antes de lanÃ§ar v1**:
- [ ] Todas as telas em PT-BR, EN-US, ES-ES sem textos faltando
- [ ] FormataÃ§Ã£o de nÃºmeros/datas correta por locale
- [ ] Emails em 3 idiomas testados
- [ ] TTS em 3 idiomas testado (qualidade de Ã¡udio)
- [ ] Textos nÃ£o quebram layout (EN costuma ser 30% maior que PT)
- [ ] Seletor de idioma funciona em todas as apps (Learner, Studio, Admin)
- [ ] PreferÃªncia de idioma persiste entre sessÃµes

### 7.2. Testes de Layout

**Problema**: Textos em inglÃªs costumam ser 30% maiores que portuguÃªs

**Exemplo**:
- PT-BR: "ComeÃ§ar" (8 chars)
- EN-US: "Get Started" (11 chars, +37%)

**SoluÃ§Ã£o**:
- Usar flexbox/grid responsivo
- Testar layouts com textos mais longos
- Truncar com `text-overflow: ellipsis` se necessÃ¡rio

**Design Tokens**:
```css
button {
  min-width: 120px;  /* Garante espaÃ§o para textos longos */
  padding: 12px 24px;
}
```

---

## 8. CONTEÃšDO CRIADO POR USUÃRIOS (UGC)

### 8.1. Criador cria conteÃºdo em qualquer idioma

**CenÃ¡rio**: Criador brasileiro cria InfoApp em inglÃªs para mercado global

**Fluxo**:
1. Criador escolhe "EN-US" como idioma principal no Wizard
2. Criador escreve lessons/beats em inglÃªs
3. TTS gera Ã¡udio em inglÃªs (voz Josh)
4. Alunos do mundo todo usam InfoApp em inglÃªs

**Interface do criador**: Pode estar em PT-BR, mas conteÃºdo que ele cria Ã© em EN-US

### 8.2. ModeraÃ§Ã£o de ConteÃºdo Multi-Idioma

**Desafio**: Moderar conteÃºdo ofensivo em mÃºltiplos idiomas

**SoluÃ§Ã£o v1**:
- Filtro automÃ¡tico de palavras ofensivas (lista por idioma)
- Report manual por alunos
- RevisÃ£o humana pelo criador (dono do InfoApp)

**v1.1**: IntegraÃ§Ã£o com APIs de moderaÃ§Ã£o (OpenAI Moderation API, Perspective API)

---

## 9. ANALYTICS E MÃ‰TRICAS

### 9.1. Tracking de Idioma

**Eventos trackados**:
- `language_changed`: Quando aluno muda idioma da interface
- `infoapp_language_selected`: Idioma escolhido ao criar InfoApp
- `tts_generated`: Idioma do Ã¡udio TTS gerado

**MÃ©tricas**:
- DistribuiÃ§Ã£o de idiomas (% alunos PT-BR vs EN-US vs ES-ES)
- Taxa de conversÃ£o por idioma
- RetenÃ§Ã£o por idioma

### 9.2. Dashboard para Criador

**InfoApp Admin â†’ Analytics**:
- "Seus alunos por idioma: 60% PT-BR, 30% EN-US, 10% ES-ES"
- "Taxa de conclusÃ£o: PT-BR 70%, EN-US 65%, ES-ES 60%"

---

## 10. CUSTOS DE TTS MULTI-IDIOMA

### 10.1. Estimativa de Custos ElevenLabs

**PreÃ§os ElevenLabs** (2025):
- Free tier: 10.000 caracteres/mÃªs
- Creator: $5/mÃªs â†’ 30.000 caracteres
- Pro: $22/mÃªs â†’ 100.000 caracteres
- Scale: $99/mÃªs â†’ 500.000 caracteres
- Business: $330/mÃªs â†’ 2.000.000 caracteres

**Estimativa por InfoApp**:
- 100 beats de 100 caracteres cada = 10.000 caracteres
- 1 InfoApp mÃ©dio = Free tier ou $5/mÃªs (Creator)

**Escala** (1.000 InfoApps):
- 10.000.000 caracteres/mÃªs
- Custo: ~$1.650/mÃªs (Business tier com volume)

**OtimizaÃ§Ã£o**:
- Cache de Ã¡udio TTS (gerar 1x, reusar)
- SÃ³ gerar Ã¡udio para beats ativos (nÃ£o para drafts)

### 10.2. Alternativas de TTS

| API | Custo | Qualidade | Idiomas |
|-----|-------|-----------|---------|
| **ElevenLabs** | $99/500k chars | â­â­â­â­â­ Excelente | 29 |
| Google Cloud TTS | $4/1M chars | â­â­â­â­ Muito boa | 40+ |
| Amazon Polly | $4/1M chars | â­â­â­â­ Muito boa | 30+ |
| Microsoft Azure TTS | $4/1M chars | â­â­â­â­ Muito boa | 75+ |

**RecomendaÃ§Ã£o v1**: ElevenLabs (melhor qualidade)
**RecomendaÃ§Ã£o v1.1**: Migrar para Google Cloud TTS (mais barato em escala)

---

## 11. ROADMAP MULTI-IDIOMA

### v1 (MVP) - LanÃ§amento
- âœ… Interface em PT-BR, EN-US, ES-ES
- âœ… Criador escolhe idioma principal do InfoApp
- âœ… TTS em 3 idiomas (ElevenLabs)
- âœ… Emails/notificaÃ§Ãµes em 3 idiomas
- âœ… Seletor de idioma em ConfiguraÃ§Ãµes

### v1.1 (3-6 meses)
- Adicionar FR, DE, IT
- Criador pode criar mesmo conteÃºdo em mÃºltiplos idiomas (PT + EN + ES)
- Aluno escolhe idioma de aprendizado
- TraduÃ§Ã£o automÃ¡tica de lessons (Google Translate API)
- URLs localizados (plataforma.com/pt/, plataforma.com/en/)

### v2 (12 meses)
- 15+ idiomas
- Vozes TTS customizadas por InfoApp (Voice cloning)
- Legendas automÃ¡ticas para vÃ­deos
- Dubbing de vÃ­deos (Eleven Labs Dubbing API)
- Comunidade de tradutores (crowdsourced translation)

---

## 12. PERGUNTAS PARA O CLIENTE

1. **Prioridade de idiomas**: PT-BR, EN-US, ES-ES ok para v1? Ou precisa adicionar outro idioma urgente?
2. **Voz TTS**: Cliente quer poder escolher voz diferente para seu InfoApp? Ou voz padrÃ£o por idioma Ã© suficiente?
3. **ConteÃºdo multi-idioma**: Prioridade v1 ou v1.1 para criador criar mesmo conteÃºdo em mÃºltiplos idiomas?
4. **TraduÃ§Ã£o automÃ¡tica**: Oferecer traduÃ§Ã£o automÃ¡tica de lessons (Google Translate) ou sÃ³ manual?
5. **Budget TTS**: Qual budget mensal para TTS? ElevenLabs Ã© mais caro mas melhor qualidade. Ok?

---

## 13. IMPLEMENTAÃ‡ÃƒO TÃ‰CNICA DETALHADA

### 13.1. Estrutura de DB para Multi-Idioma

**OpÃ§Ã£o A**: Coluna de locale em cada string
```sql
CREATE TABLE lessons (
  id UUID PRIMARY KEY,
  infoapp_id UUID,
  locale VARCHAR(10),  -- 'pt-BR', 'en-US', 'es-ES'
  title VARCHAR(255),
  description TEXT,
  ...
);

-- Criar lesson em mÃºltiplos idiomas = mÃºltiplos registros
INSERT INTO lessons (id, infoapp_id, locale, title)
VALUES
  ('lesson1', 'app1', 'pt-BR', 'IntroduÃ§Ã£o ao Python'),
  ('lesson1', 'app1', 'en-US', 'Introduction to Python'),
  ('lesson1', 'app1', 'es-ES', 'IntroducciÃ³n a Python');
```

**OpÃ§Ã£o B** (RECOMENDADO v1): JSONB para traduÃ§Ãµes
```sql
CREATE TABLE lessons (
  id UUID PRIMARY KEY,
  infoapp_id UUID,
  title JSONB,  -- {'pt-BR': 'IntroduÃ§Ã£o...', 'en-US': 'Introduction...'}
  description JSONB,
  ...
);

-- Query com fallback
SELECT title->>'pt-BR' AS title FROM lessons WHERE id = 'lesson1';
```

**OpÃ§Ã£o C** (v1.1): Tabela separada de traduÃ§Ãµes
```sql
CREATE TABLE lessons (
  id UUID PRIMARY KEY,
  infoapp_id UUID,
  default_locale VARCHAR(10),
  ...
);

CREATE TABLE lesson_translations (
  lesson_id UUID,
  locale VARCHAR(10),
  title VARCHAR(255),
  description TEXT,
  PRIMARY KEY (lesson_id, locale)
);
```

**DecisÃ£o v1**: OpÃ§Ã£o B (JSONB) â†’ simples e performÃ¡tico

### 13.2. Service Layer

```python
# PseudocÃ³digo
class I18nService:
    def get_localized_field(model, field_name, locale, fallback='pt-BR'):
        """Retorna campo traduzido com fallback"""
        value = model[field_name]  # JSONB field

        if locale in value:
            return value[locale]
        elif fallback in value:
            return value[fallback]  # Fallback para idioma padrÃ£o
        else:
            return value[list(value.keys())[0]]  # Qualquer idioma disponÃ­vel

# Exemplo de uso
lesson = Lesson.get('lesson1')
title = I18nService.get_localized_field(lesson, 'title', locale='en-US')
# Retorna: "Introduction to Python"
```

---

**Criado por**: i18n Specialist
**Revisado por**: [Aguardando]
**Aprovado por**: [Aguardando validaÃ§Ã£o do cliente]
